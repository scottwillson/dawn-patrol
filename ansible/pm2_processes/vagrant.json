{
  "apps": [
    {
      "name"        : "app",
      "script"      : "src/server.js",
      "cwd"         : "/var/www/dawn-patrol",
      "instances"   : 0,
      "exec_mode"   : "cluster_mode",
      "merge_logs"  : true,
      "node_args"   : "--optimize_for_size --max_old_space_size=460 --gc_interval=100",
      "env": {
        "NODE_ENV": "vagrant"
      }
    },
    {
      "name"        : "mock_master_server",
      "script"      : "integration_test/mock_master_server.js",
      "cwd"         : "/var/www/dawn-patrol",
      "instances"   : 1,
      "exec_mode"   : "cluster_mode",
      "merge_logs"  : true,
      "out_file"    : "/home/dawn-patrol/.pm2/logs/mock-master-server-out.log",
      "node_args"   : "--optimize_for_size --max_old_space_size=460 --gc_interval=100",
      "env": {
        "NODE_ENV": "vagrant"
      }
    },
    {
      "name"        : "echo_server",
      "script"      : "src/echo_server.js",
      "cwd"         : "/var/www/dawn-patrol",
      "instances"   : 1,
      "exec_mode"   : "cluster_mode",
      "merge_logs"  : true,
      "node_args"   : "--optimize_for_size --max_old_space_size=460 --gc_interval=100",
      "env": {
        "NODE_ENV": "vagrant"
      }
    }
  ]
}
